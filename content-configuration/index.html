<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.12.5"/><meta name="description" content="Today we&#x27;re showcasing how to migrate an existing UICollectionViewCell subclass into the new modern technique using UIContentConfiguration a…" data-gatsby-head="true"/><meta name="image" content="https://theleftbit.com/banner.jpg" data-gatsby-head="true"/><meta property="og:title" content="Migrating to UIContentConfiguration | The Left Bit Stories" data-gatsby-head="true"/><meta property="og:url" content="https://theleftbit.com/content-configuration" data-gatsby-head="true"/><meta property="og:description" content="Today we&#x27;re showcasing how to migrate an existing UICollectionViewCell subclass into the new modern technique using UIContentConfiguration a…" data-gatsby-head="true"/><meta property="og:image" content="https://theleftbit.com/banner.jpg" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:image:alt" content="Today we&#x27;re showcasing how to migrate an existing UICollectionViewCell subclass into the new modern technique using UIContentConfiguration a…" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="twitter:title" content="Migrating to UIContentConfiguration | The Left Bit Stories" data-gatsby-head="true"/><meta name="twitter:url" content="https://theleftbit.com/content-configuration" data-gatsby-head="true"/><meta name="twitter:description" content="Today we&#x27;re showcasing how to migrate an existing UICollectionViewCell subclass into the new modern technique using UIContentConfiguration a…" data-gatsby-head="true"/><meta name="twitter:image" content="https://theleftbit.com/banner.jpg" data-gatsby-head="true"/><meta name="twitter:image:alt" content="Today we&#x27;re showcasing how to migrate an existing UICollectionViewCell subclass into the new modern technique using UIContentConfiguration a…" data-gatsby-head="true"/><meta name="twitter:creator" content="@daiku60" data-gatsby-head="true"/><meta name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog" data-gatsby-head="true"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=18da62a4c7ee3765dacfe6aaf489674e" type="image/png"/><link rel="icon" href="/favicon.svg?v=18da62a4c7ee3765dacfe6aaf489674e" type="image/svg+xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=18da62a4c7ee3765dacfe6aaf489674e"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/rss.xml"/><style data-emotion="css-global 6koz1s" data-gatsby-head="true">html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#edf2f7;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;--theme-ui-colors-highlightLineBg:rgba(0, 0, 0, 0.035);--theme-ui-colors-plain-color:#393A34;--theme-ui-colors-plain-backgroundColor:#f6f8fa;--theme-ui-colors-comment-color:#999988;--theme-ui-colors-comment-fontStyle:italic;--theme-ui-colors-prolog-color:#999988;--theme-ui-colors-prolog-fontStyle:italic;--theme-ui-colors-doctype-color:#999988;--theme-ui-colors-doctype-fontStyle:italic;--theme-ui-colors-cdata-color:#999988;--theme-ui-colors-cdata-fontStyle:italic;--theme-ui-colors-namespace-opacity:0.7;--theme-ui-colors-string-color:#e3116c;--theme-ui-colors-attr-value-color:#e3116c;--theme-ui-colors-punctuation-color:#393A34;--theme-ui-colors-operator-color:#393A34;--theme-ui-colors-entity-color:#36acaa;--theme-ui-colors-url-color:#36acaa;--theme-ui-colors-symbol-color:#36acaa;--theme-ui-colors-number-color:#36acaa;--theme-ui-colors-boolean-color:#36acaa;--theme-ui-colors-variable-color:#36acaa;--theme-ui-colors-constant-color:#36acaa;--theme-ui-colors-property-color:#36acaa;--theme-ui-colors-regex-color:#36acaa;--theme-ui-colors-inserted-color:#36acaa;--theme-ui-colors-atrule-color:#00a4db;--theme-ui-colors-keyword-color:#00009f;--theme-ui-colors-attr-name-color:#00a4db;--theme-ui-colors-selector-color:#00009f;--theme-ui-colors-function-color:#d73a49;--theme-ui-colors-deleted-color:#d73a49;--theme-ui-colors-tag-color:#00009f;--theme-ui-colors-function-variable-color:#6f42c1;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-light,.theme-ui-light html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#edf2f7;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;--theme-ui-colors-highlightLineBg:rgba(0, 0, 0, 0.035);--theme-ui-colors-plain-color:#393A34;--theme-ui-colors-plain-backgroundColor:#f6f8fa;--theme-ui-colors-comment-color:#999988;--theme-ui-colors-comment-fontStyle:italic;--theme-ui-colors-prolog-color:#999988;--theme-ui-colors-prolog-fontStyle:italic;--theme-ui-colors-doctype-color:#999988;--theme-ui-colors-doctype-fontStyle:italic;--theme-ui-colors-cdata-color:#999988;--theme-ui-colors-cdata-fontStyle:italic;--theme-ui-colors-namespace-opacity:0.7;--theme-ui-colors-string-color:#e3116c;--theme-ui-colors-attr-value-color:#e3116c;--theme-ui-colors-punctuation-color:#393A34;--theme-ui-colors-operator-color:#393A34;--theme-ui-colors-entity-color:#36acaa;--theme-ui-colors-url-color:#36acaa;--theme-ui-colors-symbol-color:#36acaa;--theme-ui-colors-number-color:#36acaa;--theme-ui-colors-boolean-color:#36acaa;--theme-ui-colors-variable-color:#36acaa;--theme-ui-colors-constant-color:#36acaa;--theme-ui-colors-property-color:#36acaa;--theme-ui-colors-regex-color:#36acaa;--theme-ui-colors-inserted-color:#36acaa;--theme-ui-colors-atrule-color:#00a4db;--theme-ui-colors-keyword-color:#00009f;--theme-ui-colors-attr-name-color:#00a4db;--theme-ui-colors-selector-color:#00009f;--theme-ui-colors-function-color:#d73a49;--theme-ui-colors-deleted-color:#d73a49;--theme-ui-colors-tag-color:#00009f;--theme-ui-colors-function-variable-color:#6f42c1;}html.theme-ui-dark,.theme-ui-dark html{--theme-ui-colors-text:#cbd5e0;--theme-ui-colors-primary:#b794f4;--theme-ui-colors-secondary:#8a9ab0;--theme-ui-colors-toggleIcon:#cbd5e0;--theme-ui-colors-background:#1A202C;--theme-ui-colors-heading:#fff;--theme-ui-colors-divide:#2d3748;--theme-ui-colors-muted:#2d3748;--theme-ui-colors-highlightLineBg:rgba(255, 255, 255, 0.1);--theme-ui-colors-plain-color:#9CDCFE;--theme-ui-colors-plain-backgroundColor:#1E1E1E;--theme-ui-colors-prolog-color:rgb(0, 0, 128);--theme-ui-colors-comment-color:rgb(106, 153, 85);--theme-ui-colors-builtin-color:rgb(86, 156, 214);--theme-ui-colors-changed-color:rgb(86, 156, 214);--theme-ui-colors-keyword-color:rgb(86, 156, 214);--theme-ui-colors-interpolation-punctuation-color:rgb(86, 156, 214);--theme-ui-colors-number-color:rgb(181, 206, 168);--theme-ui-colors-inserted-color:rgb(181, 206, 168);--theme-ui-colors-constant-color:rgb(100, 102, 149);--theme-ui-colors-attr-name-color:rgb(156, 220, 254);--theme-ui-colors-variable-color:rgb(156, 220, 254);--theme-ui-colors-deleted-color:rgb(206, 145, 120);--theme-ui-colors-string-color:rgb(206, 145, 120);--theme-ui-colors-attr-value-color:rgb(206, 145, 120);--theme-ui-colors-template-punctuation-color:rgb(206, 145, 120);--theme-ui-colors-selector-color:rgb(215, 186, 125);--theme-ui-colors-tag-color:rgb(86, 156, 214);--theme-ui-colors-punctuation-color:#808080;--theme-ui-colors-operator-color:rgb(212, 212, 212);--theme-ui-colors-function-color:rgb(220, 220, 170);--theme-ui-colors-class-name-color:rgb(78, 201, 176);--theme-ui-colors-char-color:rgb(209, 105, 105);}</style><style data-emotion="css-global 1mawjxo" data-gatsby-head="true">*{box-sizing:border-box;}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);margin:0;padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%;}html img{border-style:none;}html pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;}html a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:var(--theme-ui-colors-text);}body{margin:0;}</style><title data-gatsby-head="true">Migrating to UIContentConfiguration | The Left Bit Stories</title><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" data-gatsby-head="true"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" data-gatsby-head="true"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" data-gatsby-head="true"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global 6koz1s">html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#edf2f7;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;--theme-ui-colors-highlightLineBg:rgba(0, 0, 0, 0.035);--theme-ui-colors-plain-color:#393A34;--theme-ui-colors-plain-backgroundColor:#f6f8fa;--theme-ui-colors-comment-color:#999988;--theme-ui-colors-comment-fontStyle:italic;--theme-ui-colors-prolog-color:#999988;--theme-ui-colors-prolog-fontStyle:italic;--theme-ui-colors-doctype-color:#999988;--theme-ui-colors-doctype-fontStyle:italic;--theme-ui-colors-cdata-color:#999988;--theme-ui-colors-cdata-fontStyle:italic;--theme-ui-colors-namespace-opacity:0.7;--theme-ui-colors-string-color:#e3116c;--theme-ui-colors-attr-value-color:#e3116c;--theme-ui-colors-punctuation-color:#393A34;--theme-ui-colors-operator-color:#393A34;--theme-ui-colors-entity-color:#36acaa;--theme-ui-colors-url-color:#36acaa;--theme-ui-colors-symbol-color:#36acaa;--theme-ui-colors-number-color:#36acaa;--theme-ui-colors-boolean-color:#36acaa;--theme-ui-colors-variable-color:#36acaa;--theme-ui-colors-constant-color:#36acaa;--theme-ui-colors-property-color:#36acaa;--theme-ui-colors-regex-color:#36acaa;--theme-ui-colors-inserted-color:#36acaa;--theme-ui-colors-atrule-color:#00a4db;--theme-ui-colors-keyword-color:#00009f;--theme-ui-colors-attr-name-color:#00a4db;--theme-ui-colors-selector-color:#00009f;--theme-ui-colors-function-color:#d73a49;--theme-ui-colors-deleted-color:#d73a49;--theme-ui-colors-tag-color:#00009f;--theme-ui-colors-function-variable-color:#6f42c1;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-light,.theme-ui-light html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#edf2f7;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;--theme-ui-colors-highlightLineBg:rgba(0, 0, 0, 0.035);--theme-ui-colors-plain-color:#393A34;--theme-ui-colors-plain-backgroundColor:#f6f8fa;--theme-ui-colors-comment-color:#999988;--theme-ui-colors-comment-fontStyle:italic;--theme-ui-colors-prolog-color:#999988;--theme-ui-colors-prolog-fontStyle:italic;--theme-ui-colors-doctype-color:#999988;--theme-ui-colors-doctype-fontStyle:italic;--theme-ui-colors-cdata-color:#999988;--theme-ui-colors-cdata-fontStyle:italic;--theme-ui-colors-namespace-opacity:0.7;--theme-ui-colors-string-color:#e3116c;--theme-ui-colors-attr-value-color:#e3116c;--theme-ui-colors-punctuation-color:#393A34;--theme-ui-colors-operator-color:#393A34;--theme-ui-colors-entity-color:#36acaa;--theme-ui-colors-url-color:#36acaa;--theme-ui-colors-symbol-color:#36acaa;--theme-ui-colors-number-color:#36acaa;--theme-ui-colors-boolean-color:#36acaa;--theme-ui-colors-variable-color:#36acaa;--theme-ui-colors-constant-color:#36acaa;--theme-ui-colors-property-color:#36acaa;--theme-ui-colors-regex-color:#36acaa;--theme-ui-colors-inserted-color:#36acaa;--theme-ui-colors-atrule-color:#00a4db;--theme-ui-colors-keyword-color:#00009f;--theme-ui-colors-attr-name-color:#00a4db;--theme-ui-colors-selector-color:#00009f;--theme-ui-colors-function-color:#d73a49;--theme-ui-colors-deleted-color:#d73a49;--theme-ui-colors-tag-color:#00009f;--theme-ui-colors-function-variable-color:#6f42c1;}html.theme-ui-dark,.theme-ui-dark html{--theme-ui-colors-text:#cbd5e0;--theme-ui-colors-primary:#b794f4;--theme-ui-colors-secondary:#8a9ab0;--theme-ui-colors-toggleIcon:#cbd5e0;--theme-ui-colors-background:#1A202C;--theme-ui-colors-heading:#fff;--theme-ui-colors-divide:#2d3748;--theme-ui-colors-muted:#2d3748;--theme-ui-colors-highlightLineBg:rgba(255, 255, 255, 0.1);--theme-ui-colors-plain-color:#9CDCFE;--theme-ui-colors-plain-backgroundColor:#1E1E1E;--theme-ui-colors-prolog-color:rgb(0, 0, 128);--theme-ui-colors-comment-color:rgb(106, 153, 85);--theme-ui-colors-builtin-color:rgb(86, 156, 214);--theme-ui-colors-changed-color:rgb(86, 156, 214);--theme-ui-colors-keyword-color:rgb(86, 156, 214);--theme-ui-colors-interpolation-punctuation-color:rgb(86, 156, 214);--theme-ui-colors-number-color:rgb(181, 206, 168);--theme-ui-colors-inserted-color:rgb(181, 206, 168);--theme-ui-colors-constant-color:rgb(100, 102, 149);--theme-ui-colors-attr-name-color:rgb(156, 220, 254);--theme-ui-colors-variable-color:rgb(156, 220, 254);--theme-ui-colors-deleted-color:rgb(206, 145, 120);--theme-ui-colors-string-color:rgb(206, 145, 120);--theme-ui-colors-attr-value-color:rgb(206, 145, 120);--theme-ui-colors-template-punctuation-color:rgb(206, 145, 120);--theme-ui-colors-selector-color:rgb(215, 186, 125);--theme-ui-colors-tag-color:rgb(86, 156, 214);--theme-ui-colors-punctuation-color:#808080;--theme-ui-colors-operator-color:rgb(212, 212, 212);--theme-ui-colors-function-color:rgb(220, 220, 170);--theme-ui-colors-class-name-color:rgb(78, 201, 176);--theme-ui-colors-char-color:rgb(209, 105, 105);}</style><style data-emotion="css-global 1mawjxo">*{box-sizing:border-box;}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);margin:0;padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%;}html img{border-style:none;}html pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;}html a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:var(--theme-ui-colors-text);}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global cjr7z1">*{box-sizing:inherit;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text);color:var(--theme-ui-colors-background);}</style><style data-emotion="css 1gq7j3t">.css-1gq7j3t{border:0;clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1gq7j3t:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading);color:var(--theme-ui-colors-background);z-index:1;width:auto;height:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1gq7j3t">Skip to content</a><style data-emotion="css 10f80pj">.css-10f80pj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width: 640px){.css-10f80pj{padding:2rem;}}</style><div class="css-10f80pj"><style data-emotion="css egutgn">.css-egutgn{margin-bottom:4rem;}@media screen and (min-width: 640px){.css-egutgn{margin-bottom:8rem;}}</style><header class="css-egutgn"><style data-emotion="css 1xwyizx">.css-1xwyizx{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><style data-emotion="css 1pbimyf">.css-1pbimyf{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><div class="css-1pbimyf"><style data-emotion="css uxjqfw">.css-uxjqfw{color:var(--theme-ui-colors-heading);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="The Left Bit Stories - Back to home" class="css-uxjqfw" href="/"><style data-emotion="css 19i8ga6">.css-19i8ga6{margin-top:0;margin-bottom:0;font-weight:600;font-size:1.5rem;}@media screen and (min-width: 640px){.css-19i8ga6{font-size:1.875rem;}}</style><div class="css-19i8ga6">The Left Bit Stories</div></a><style data-emotion="css 3ba0x7">.css-3ba0x7{opacity:0.65;position:relative;border-radius:4px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}.css-3ba0x7:hover,.css-3ba0x7:focus{opacity:1;}</style><button type="button" class="css-3ba0x7"><style data-emotion="css 1ggalm8">.css-1ggalm8{position:relative;width:24px;height:24px;border-radius:50%;-webkit-transition:all 0.45s ease;transition:all 0.45s ease;-webkit-transform:scale(0.55);-moz-transform:scale(0.55);-ms-transform:scale(0.55);transform:scale(0.55);}.css-1ggalm8:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;-webkit-transition:-webkit-transform 0.45s ease;transition:transform 0.45s ease;border-radius:50%;opacity:0;}.css-1ggalm8:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;-webkit-transition:all 0.35s ease;transition:all 0.35s ease;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon),0 23px 0 var(--theme-ui-colors-toggleIcon),23px 0 0 var(--theme-ui-colors-toggleIcon),-23px 0 0 var(--theme-ui-colors-toggleIcon),15px 15px 0 var(--theme-ui-colors-toggleIcon),-15px 15px 0 var(--theme-ui-colors-toggleIcon),15px -15px 0 var(--theme-ui-colors-toggleIcon),-15px -15px 0 var(--theme-ui-colors-toggleIcon);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}</style><div class="css-1ggalm8"></div></button></div><style data-emotion="css fp1v3n">.css-fp1v3n{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary);-webkit-box-flex-flow:wrap;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-fp1v3n a{color:var(--theme-ui-colors-secondary);}.css-fp1v3n a:hover{color:var(--theme-ui-colors-heading);}</style><div class="css-fp1v3n"><style data-emotion="css 1lx5s1f">.css-1lx5s1f{font-size:1rem;}.css-1lx5s1f a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width: 640px){.css-1lx5s1f{font-size:18px;}}.css-1lx5s1f .active{color:var(--theme-ui-colors-heading);}</style><nav class="css-1lx5s1f"><style data-emotion="css bpdkdn">.css-bpdkdn{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-bpdkdn:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-bpdkdn" href="/tags/">View all tags</a></nav><style data-emotion="css 45ghvz">.css-45ghvz{font-size:1rem;}.css-45ghvz a:not(:first-of-type){margin-left:1rem;}@media screen and (min-width: 640px){.css-45ghvz{font-size:18px;}}</style><div class="css-45ghvz"><style data-emotion="css aizfxq">.css-aizfxq{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-aizfxq:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://twitter.com/theleftbit" class="css-aizfxq">Twitter</a><a href="https://github.com/theleftbit" class="css-aizfxq">Github</a><a href="https://theleftbit.com" class="css-aizfxq">Homepage</a></div></div></header><style data-emotion="css 1w9aswf">.css-1w9aswf .prism-code{font-size:1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-1w9aswf .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-1w9aswf .prism-code{font-size:1.25rem;}}.css-1w9aswf .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1w9aswf .gatsby-highlight[data-language='none'] .code-content,.css-1w9aswf .gatsby-highlight[data-language=''] .code-content{padding-top:1rem;}.css-1w9aswf .code-content{padding:2rem 1rem 1rem 1rem;color:var(--theme-ui-colors-plain-color);background-color:var(--theme-ui-colors-plain-backgroundColor);}.css-1w9aswf .token{display:inline-block;}.css-1w9aswf p>code,.css-1w9aswf li>code{background-color:var(--theme-ui-colors-muted);color:var(--theme-ui-colors-heading);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:4px;font-size:0.95em;}.css-1w9aswf .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;border-radius:4px;overflow:hidden;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1w9aswf .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1w9aswf .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1w9aswf .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1w9aswf .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1w9aswf .gatsby-highlight pre code{float:left;min-width:100%;}.css-1w9aswf .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 4px 4px;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.035rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;}.css-1w9aswf .gatsby-highlight pre[class~="language-golang"]:before,.css-1w9aswf .gatsby-highlight pre[class~="language-go"]:before{content:"go";background:#79d4fd;color:var(--theme-ui-colors-black);}.css-1w9aswf .gatsby-highlight pre[class~="language-javascript"]:before,.css-1w9aswf .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-1w9aswf .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1w9aswf .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1w9aswf .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1w9aswf .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1w9aswf .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1w9aswf .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1w9aswf .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1w9aswf .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-1w9aswf .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-1w9aswf .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-1w9aswf .gatsby-highlight pre[class~="language-py"]:before,.css-1w9aswf .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-1w9aswf .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1w9aswf .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1w9aswf .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1w9aswf .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1w9aswf .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1w9aswf .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1w9aswf .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1w9aswf .gatsby-highlight pre[class~='language-json']:before,.css-1w9aswf .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1w9aswf .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1w9aswf .gatsby-highlight>code[class*="language-"],.css-1w9aswf .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1w9aswf .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1w9aswf .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-1w9aswf .gatsby-highlight pre::-webkit-scrollbar-track{background:var(--theme-ui-colors-muted);}.css-1w9aswf .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1w9aswf .code-title{background-color:var(--theme-ui-colors-muted);color:var(--theme-ui-colors-text);font-size:1rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}.css-1w9aswf .token-line{padding-right:1rem;}.css-1w9aswf .highlight-line{border-left:4px solid rgb(2, 155, 206);}.css-1w9aswf .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1w9aswf .footnotes{border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide);padding-top:0.5rem;margin-top:4rem;overflow:auto;}.css-1w9aswf .footnotes .sr-only{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><style data-emotion="css 1wlcpc3">.css-1wlcpc3{box-sizing:border-box;margin:0;min-width:0;}.css-1wlcpc3 .prism-code{font-size:1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-1wlcpc3 .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-1wlcpc3 .prism-code{font-size:1.25rem;}}.css-1wlcpc3 .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1wlcpc3 .gatsby-highlight[data-language='none'] .code-content,.css-1wlcpc3 .gatsby-highlight[data-language=''] .code-content{padding-top:1rem;}.css-1wlcpc3 .code-content{padding:2rem 1rem 1rem 1rem;color:var(--theme-ui-colors-plain-color);background-color:var(--theme-ui-colors-plain-backgroundColor);}.css-1wlcpc3 .token{display:inline-block;}.css-1wlcpc3 p>code,.css-1wlcpc3 li>code{background-color:var(--theme-ui-colors-muted);color:var(--theme-ui-colors-heading);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:4px;font-size:0.95em;}.css-1wlcpc3 .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;border-radius:4px;overflow:hidden;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1wlcpc3 .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1wlcpc3 .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1wlcpc3 .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1wlcpc3 .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1wlcpc3 .gatsby-highlight pre code{float:left;min-width:100%;}.css-1wlcpc3 .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 4px 4px;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.035rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;}.css-1wlcpc3 .gatsby-highlight pre[class~="language-golang"]:before,.css-1wlcpc3 .gatsby-highlight pre[class~="language-go"]:before{content:"go";background:#79d4fd;color:var(--theme-ui-colors-black);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-javascript"]:before,.css-1wlcpc3 .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1wlcpc3 .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-py"]:before,.css-1wlcpc3 .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-1wlcpc3 .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1wlcpc3 .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1wlcpc3 .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1wlcpc3 .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1wlcpc3 .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1wlcpc3 .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1wlcpc3 .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1wlcpc3 .gatsby-highlight pre[class~='language-json']:before,.css-1wlcpc3 .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1wlcpc3 .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1wlcpc3 .gatsby-highlight>code[class*="language-"],.css-1wlcpc3 .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1wlcpc3 .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1wlcpc3 .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-1wlcpc3 .gatsby-highlight pre::-webkit-scrollbar-track{background:var(--theme-ui-colors-muted);}.css-1wlcpc3 .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1wlcpc3 .code-title{background-color:var(--theme-ui-colors-muted);color:var(--theme-ui-colors-text);font-size:1rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}.css-1wlcpc3 .token-line{padding-right:1rem;}.css-1wlcpc3 .highlight-line{border-left:4px solid rgb(2, 155, 206);}.css-1wlcpc3 .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1wlcpc3 .footnotes{border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide);padding-top:0.5rem;margin-top:4rem;overflow:auto;}.css-1wlcpc3 .footnotes .sr-only{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><main id="skip-nav" class=" css-1wlcpc3"><style data-emotion="css w1q1hj">.css-w1q1hj{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-w1q1hj{font-size:2.25rem;}}@media screen and (min-width: 768px){.css-w1q1hj{font-size:2.25rem;}}@media screen and (min-width: 1024px){.css-w1q1hj{font-size:3rem;}}</style><h1 class="css-w1q1hj">Migrating to UIContentConfiguration</h1><style data-emotion="css 15ce8we">.css-15ce8we{color:var(--theme-ui-colors-secondary);margin-top:1rem;font-size:1rem;}.css-15ce8we a{color:var(--theme-ui-colors-secondary);}@media screen and (min-width: 640px){.css-15ce8we{font-size:1rem;}}@media screen and (min-width: 768px){.css-15ce8we{font-size:1.25rem;}}</style><p class="css-15ce8we"><time>16.11.2021</time> — <a class="css-bpdkdn" href="/tags/ui-kit/">UIKit</a>, <a class="css-bpdkdn" href="/tags/collection-view/">CollectionView</a>, <a class="css-bpdkdn" href="/tags/ui-content-configuration/">UIContentConfiguration</a> — <span>13<!-- --> min read</span></p><style data-emotion="css 1mae7sn">.css-1mae7sn{margin-top:4rem;margin-bottom:4rem;}.css-1mae7sn .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;border-radius:4px;box-shadow:rgba(0, 0, 0, 0.1) 0px 16px 16px 0px,rgba(0, 0, 0, 0.1) 0px 8px 8px 0px,rgba(0, 0, 0, 0.1) 0px 4px 4px 0px;}@media screen and (min-width: 640px){.css-1mae7sn .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width: 768px){.css-1mae7sn .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}.css-1mae7sn .gatsby-resp-image-wrapper .gatsby-resp-image-image{border-radius:4px;}.css-1mae7sn figure{margin:0;}.css-1mae7sn figure img{border-radius:4px;box-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1),0 4px 6px -2px rgba(0, 0, 0, 0.05);max-width:100%;}</style><section class="css-1mae7sn"><style data-emotion="css vehe2z">.css-vehe2z{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width: 640px){.css-vehe2z{font-size:1rem;}}@media screen and (min-width: 768px){.css-vehe2z{font-size:1.25rem;}}</style><style data-emotion="css z0logh">.css-z0logh{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width: 640px){.css-z0logh{font-size:1rem;}}@media screen and (min-width: 768px){.css-z0logh{font-size:1.25rem;}}@media screen and (min-width: 640px){.css-z0logh{font-size:1rem;}}@media screen and (min-width: 768px){.css-z0logh{font-size:1.25rem;}}</style><p class="css-z0logh">Today we&#x27;re showcasing how to migrate an existing <code class="css-zezy6m">UICollectionViewCell</code> subclass into the
new modern technique using <code class="css-zezy6m">UIContentConfiguration</code> and <code class="css-zezy6m">UIContentView</code>.</p>
<style data-emotion="css 90ntna">.css-90ntna{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-90ntna{font-size:1.875rem;}}@media screen and (min-width: 768px){.css-90ntna{font-size:1.875rem;}}@media screen and (min-width: 1024px){.css-90ntna{font-size:2.25rem;}}</style><style data-emotion="css 1h962gv">.css-1h962gv{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading);font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1h962gv{font-size:1.875rem;}}@media screen and (min-width: 768px){.css-1h962gv{font-size:1.875rem;}}@media screen and (min-width: 1024px){.css-1h962gv{font-size:2.25rem;}}@media screen and (min-width: 640px){.css-1h962gv{font-size:1.875rem;}}@media screen and (min-width: 768px){.css-1h962gv{font-size:1.875rem;}}@media screen and (min-width: 1024px){.css-1h962gv{font-size:2.25rem;}}</style><h2 class="css-1h962gv">What the... content?</h2>
<p class="css-z0logh">iOS 14 brought a modern techique to build and configure collection views by leveraging the
new protocol <code class="css-zezy6m">UIContentConfiguration</code>.
This not only offers a performant way to represent cell&#x27;s data structures, but also gives it
a canonical way of dealing with state changes, all while conforming to modern standards
and offering builtin swift type-safety.</p>
<p class="css-z0logh">This completes the puzzle first introduced in iOS 13 with the addition of new modern ways to
create collection views using <code class="css-zezy6m">UIDiffableDataSource</code> and <code class="css-zezy6m">UICollectionViewCompositionalLayout</code>.</p>
<style data-emotion="css 11bn2j6">.css-11bn2j6{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-11bn2j6{font-size:1.5rem;}}@media screen and (min-width: 768px){.css-11bn2j6{font-size:1.5rem;}}@media screen and (min-width: 1024px){.css-11bn2j6{font-size:1.875rem;}}</style><style data-emotion="css ns8t27">.css-ns8t27{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-ns8t27{font-size:1.5rem;}}@media screen and (min-width: 768px){.css-ns8t27{font-size:1.5rem;}}@media screen and (min-width: 1024px){.css-ns8t27{font-size:1.875rem;}}@media screen and (min-width: 640px){.css-ns8t27{font-size:1.5rem;}}@media screen and (min-width: 768px){.css-ns8t27{font-size:1.5rem;}}@media screen and (min-width: 1024px){.css-ns8t27{font-size:1.875rem;}}</style><h3 class="css-ns8t27">When the stock solution isn&#x27;t enough</h3>
<p class="css-z0logh">iOS 14 also introduced simpler and leaner <code class="css-zezy6m">UICollectionViewListCell</code>, which takes away
some of the burden of the cell definitions, by adding a built-in state, accessories and content and
background configurations.</p>
<p class="css-z0logh">Even having <code class="css-zezy6m">UICollectionViewListCell</code>, we sometimes need to define custom layouts for our cells.
This is also true for content: the cell&#x27;s <code class="css-zezy6m">UIListContentConfiguration</code> is quite limited,
offering only a handful of the most common uses, such as text properties
and static images. But what if we need to define a slightly more complex layout?</p>
<p class="css-z0logh">When <em class="css-zezy6m">not</em> to use <code class="css-zezy6m">UIListContentConfiguration</code>:</p>
<style data-emotion="css rc057y">.css-rc057y li{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width: 640px){.css-rc057y li{font-size:1rem;}}@media screen and (min-width: 768px){.css-rc057y li{font-size:1.25rem;}}</style><style data-emotion="css 15vy6y4">.css-15vy6y4 li{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width: 640px){.css-15vy6y4 li{font-size:1rem;}}@media screen and (min-width: 768px){.css-15vy6y4 li{font-size:1.25rem;}}.css-15vy6y4 li{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width: 640px){.css-15vy6y4 li{font-size:1rem;}}@media screen and (min-width: 768px){.css-15vy6y4 li{font-size:1.25rem;}}</style><ul class="css-15vy6y4">
<li class="css-zezy6m">the images come from a url, instead of from a static source</li>
<li class="css-zezy6m">we use different trailing markers as the ones provided in the accessories</li>
<li class="css-zezy6m">we have a complex layout, outside title/subtitle/icon</li>
<li class="css-zezy6m">we use shadows, layer transformations, etc.</li>
</ul>
<h3 class="css-ns8t27">A Simple(ish) Cell</h3>
<p class="css-z0logh">Consider this cell UI:</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 718px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 24.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5klEQVR42o2QzUoDQRCE9zW9CoI3QU+CePQiPoG+weYBvAU8CJ6CLEuisBdlA1H2d2YymVlmP7cHIjmmoeiupqiCSrz3WN1Rb77x3hHGERgJITAMw9EQvXM7Euss76/PpHdXfC7m9EqRZRl5njNG8+MmeHBmICmWS55urnk4O2E+e6SqflitPiiKAmMMXdfFrbX+v621qClYfloZAjvWC/h6mwx/yzX3F5fcnp/ykqYxTcRN00SDtm3pezWhjz/hYlRVFXVdRwiXGfxk6JyLwrIspw48wqXXPaSfw3vPD/sTLv1tt4Y/UdN5icFYwtYAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="A Simple Cell"
        title=""
        src="/static/28d175f2453a31683e1f7d21ccfdfa9d/75a23/simple-cell.png"
        srcset="/static/28d175f2453a31683e1f7d21ccfdfa9d/5243c/simple-cell.png 240w,
/static/28d175f2453a31683e1f7d21ccfdfa9d/ab158/simple-cell.png 480w,
/static/28d175f2453a31683e1f7d21ccfdfa9d/75a23/simple-cell.png 718w"
        sizes="(max-width: 718px) 100vw, 718px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></span>
<p class="css-z0logh">To configure it, we&#x27;ll need these basic properties:</p>
<ul class="css-15vy6y4">
<li class="css-zezy6m"><strong class="css-zezy6m">Title</strong></li>
<li class="css-zezy6m"><strong class="css-zezy6m">Subtitle</strong></li>
<li class="css-zezy6m"><strong class="css-zezy6m">Image</strong></li>
<li class="css-zezy6m"><strong class="css-zezy6m">isRead indicator</strong></li>
</ul>
<p class="css-z0logh">The layout is simple enough, but in this case we can&#x27;t use the stock <code class="css-zezy6m">UIListContentConfiguration</code>.
This is because the image is not a static image from assets, and instead comes from a url.
Moreover, we need to add a trailing indicator (the purple dot), to inform the user whether
the contents of this cell are read or not.
Those properties are not handled in the defaultContentConfiguration(), so we&#x27;ll need
to define our own.</p>
<h3 class="css-ns8t27">Starting point</h3>
<p class="css-z0logh">Let&#x27;s see the starting point we had, since you probably have something similar
in your codebase.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><style data-emotion="css ce1lkk">.css-ce1lkk{background-color:var(--theme-ui-colors-background);border:none;color:var(--theme-ui-colors-text);cursor:pointer;font-size:14px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";letter-spacing:0.025rem;-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;position:absolute;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width: 640px){.css-ce1lkk{font-size:14px;}}@media screen and (min-width: 768px){.css-ce1lkk{font-size:16px;}}.css-ce1lkk[disabled]{cursor:not-allowed;}.css-ce1lkk:not([disabled]):hover{background-color:var(--theme-ui-colors-primary);color:var(--theme-ui-colors-white);}</style><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<style data-emotion="css 15vf505">.css-15vf505{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">class</span><span class="token plain"> </span><span class="token class-name">SimpleCollectionViewCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UICollectionViewListCell</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> titleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UILabel</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> subtitleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UILabel</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> photoImageView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIImageView</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> trailingIndicator</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIImageView</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">override</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">CGRect</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">super</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> frame</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token comment" style="color:var(--theme-ui-colors-comment-color);font-style:var(--theme-ui-colors-comment-fontStyle)">/// Layout Code</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">required</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">coder aDecoder</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">NSCoder</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token function" style="color:var(--theme-ui-colors-function-color)">fatalError</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token string-literal string" style="color:var(--theme-ui-colors-string-color)">&quot;init(coder:) has not been implemented&quot;</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">16</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">override</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> isSelected</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Bool</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">didSet</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">20</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> isSelected </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">21</span><span class="token plain">                contentView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">backgroundColor </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">cellSelectionBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">22</span><span class="token plain">            </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">23</span><span class="token plain">                contentView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">backgroundColor </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">24</span><span class="token plain">            </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">25</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">26</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">27</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">28</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">override</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> isHighlighted</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Bool</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">29</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">didSet</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">30</span><span class="token plain">            contentView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">backgroundColor </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> isHighlighted </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">31</span><span class="token plain">                </span><span class="token class-name">UIColor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">systemGray3 </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">32</span><span class="token plain">                </span><span class="token class-name">UIColor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">34</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">35</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">This cell has a couple of labels and image views. To render its contents,
it defines a <code class="css-zezy6m">ViewModel</code> (which holds the data) and a method to configure its subviews
as such:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">extension</span><span class="token plain"> </span><span class="token class-name">SimpleCollectionViewCell</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">struct</span><span class="token plain"> </span><span class="token class-name">ViewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Hashable</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> id</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> photo</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIImage</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> title</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> subtitle</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> isRead</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Bool</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">configureFor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">viewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">ViewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain">        titleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">text </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> viewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">title</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain">        subtitleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">text </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> viewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">subtitle</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain">        photoImageView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">image </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> viewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">photo</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain">        trailingIndicator</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">isHidden </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> viewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">isRead</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">15</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">16</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">When we dequeue the cell from the collection view, we just need to call
<code class="css-zezy6m">configureFor</code> method to properly populate our subviews with the data.</p>
<p class="css-z0logh">Below you can see how we would implement a <code class="css-zezy6m">UICollectionDiffableDataSource</code>,
dequeueing this cell:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> simpleCellRegistration </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token class-name">UICollectionView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">CellRegistration</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&lt;</span><span class="token class-name">SimpleCollectionViewCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token class-name">SimpleCollectionViewCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">ViewModel</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> vm</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">in</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">    cell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token function" style="color:var(--theme-ui-colors-function-color)">configureFor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">viewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> vm</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> dataSource </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token class-name">UICollectionViewDiffableDataSource</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&lt;</span><span class="token class-name">Section</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">collectionView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> collectionView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">cv</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token class-name">UICollectionViewCell</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">in</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">switch</span><span class="token plain"> item </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">case</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token function" style="color:var(--theme-ui-colors-function-color)">simpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> vm</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> cv</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token function" style="color:var(--theme-ui-colors-function-color)">dequeueConfiguredReusableCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain">            using</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> simpleCellRegistration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">for</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain">            item</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> vm</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">...</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">16</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">17</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">18</span><span class="token plain"></span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">...</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">19</span><span class="token plain"></span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">enum</span><span class="token plain"> </span><span class="token class-name">Section</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">20</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">case</span><span class="token plain"> onlySection</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">21</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">22</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">23</span><span class="token plain"></span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">enum</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Hashable</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">24</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">case</span><span class="token plain"> </span><span class="token function" style="color:var(--theme-ui-colors-function-color)">simpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token class-name">SimpleCollectionViewCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">ViewModel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">25</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">We ensure the type passed to the cell is appropriate by making the <code class="css-zezy6m">Item</code>
contain the <code class="css-zezy6m">SimpleCollectionViewCell.ViewModel</code>, so that when we call the registration
handler that type is the ViewModel for this particular item.</p>
<p class="css-z0logh">Below is a diagram depicting the process from dequeueing the cell to displaying it,
up until now:</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 85.41666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAC4jAAAuIwF4pT92AAACoUlEQVR42oVTW0/TYBjmh3pljDFyod4IBBODF0TxQjFyiFEE7YCd2WIdxDgQBm6OtdMIhLWDHboetrJ2Pazt18N4t5EAZuqTN1/eiz7f83zv+3RIFEUboXKNTe4TW2T+a46A2iTITSK/mSOFhogQMgzD7KHfaJrmui5FUUOqqnY6ndTvwxvTs/cWPo4vB8d8/hFsdfjt0s2ZN7/oomW0VVWTZbnVaimKAqfneUCpVCpDcA10xRrrS24HU+nwbjqwsxfezQR2vq9+S9UaDddxLMvqa0IDJ8hekHVdhw4uc5BlI1NVZIFnkdW2TcOxUWcQLsma3lWGGxcD8761d7ENfwjH1jb8i8G5II7ZtgOaeg99ZaMHoNA0DcoX5KXg3FJoNprAIgksuu5b8L8K4xh8LUkSvBNOmA5cAT281LbtQqFwabuNPN1yZdXgRVk3Hc10TeT9x3af7DiofoQ3j6L1g2glt3x2HBcPwiKddF3PcRzQgYUBx+vhKrlrG5l6IXanhN8uJe5W1odLieHSp1vFjbG2YYJPyALP832ZAcqwD5nJt5h9qZJtnKaVGiFXsy3uEDbqXccAsmVoqsTqMifVT5nTQ01iNIlVmwws75+r0roJa1bJ6pcH/PYjPjXB7TwWUk+4rVEmOXLGUU1ZERsNSBiY5zgO9vRnwpQ6zey94LPzQt7H57H6Tx+beV3LzOiy4HodmJbTA0zO7eH6m13XsrulqKpQr0MaTMuxkNsX+attCDt0JEVPLAemIrHpOP48tPYy/vlpMDoZiFBVxuoFy70C0AdKuVyGv6pr+8dx4f57bHwlNBXDn8XwyUh81Bd4+GHlqFRGpgm2BytDyliWPS5QaYJIk+Tufg5qL0dkSBKqeHICQ6oyTPUKgCYIQjabPQeRlo39lqM2CgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Diagram of the starting point"
        title=""
        src="/static/7cc77c1883f1e514d98d342c0e2d20b5/7d769/diagram0.png"
        srcset="/static/7cc77c1883f1e514d98d342c0e2d20b5/5243c/diagram0.png 240w,
/static/7cc77c1883f1e514d98d342c0e2d20b5/ab158/diagram0.png 480w,
/static/7cc77c1883f1e514d98d342c0e2d20b5/7d769/diagram0.png 960w,
/static/7cc77c1883f1e514d98d342c0e2d20b5/87339/diagram0.png 1440w,
/static/7cc77c1883f1e514d98d342c0e2d20b5/afa98/diagram0.png 1609w"
        sizes="(max-width: 960px) 100vw, 960px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></span>
<p class="css-z0logh">Notice the creation and configuration steps are done sepparately. Thus, we need to remember
configuring the cell after dequeuing it.</p>
<p class="css-z0logh">This is easy enough, and for most cases it just works. Let&#x27;s now see how we can move
on to modern cell configurations and see what value this can bring us.</p>
<h2 class="css-1h962gv">Moving to <code class="css-zezy6m">UIContentConfiguration</code></h2>
<p class="css-z0logh">We want to migrate this <code class="css-zezy6m">ViewModel</code> to the new technique <code class="css-zezy6m">UIContentConfiguration</code>, wich will
handle not only the data the cell needs (id, photo, title, subtitle and isRead),
but also the cell state, including our familiar properties when building lists
such as <code class="css-zezy6m">isSelected</code> and <code class="css-zezy6m">isHighlighted</code>.</p>
<p class="css-z0logh">The great thing about this new protocol is that we&#x27;ll be able to decouple our view layout
from <code class="css-zezy6m">UICollectionViewCell</code>. This way, we&#x27;ll have a composable structure that we can reuse
elsewhere in our code, if need be.</p>
<p class="css-z0logh">First we want to take a look at the <code class="css-zezy6m">UIContentConfiguration</code> protocol:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">protocol</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token comment" style="color:var(--theme-ui-colors-comment-color);font-style:var(--theme-ui-colors-comment-fontStyle)">/// Initializes and returns a new instance of the content view using this configuration.</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">makeContentView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token comment" style="color:var(--theme-ui-colors-comment-color);font-style:var(--theme-ui-colors-comment-fontStyle)">/// Returns the configuration updated for the specified state,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token comment" style="color:var(--theme-ui-colors-comment-color);font-style:var(--theme-ui-colors-comment-fontStyle)">/// by applying the configuration&#x27;s default values for that state</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token comment" style="color:var(--theme-ui-colors-comment-color);font-style:var(--theme-ui-colors-comment-fontStyle)">/// to any properties that have not been customized.</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">updated</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">for</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIConfigurationState</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">Self</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<ul class="css-15vy6y4">
<li class="css-zezy6m">
<p class="css-z0logh"><code class="css-zezy6m">makeContentView()</code> ensures that the configuration creates a new view to serve
as a contentView for the cell. This view needs to be both a <code class="css-zezy6m">UIView</code>
and a <code class="css-zezy6m">UIContentView</code>, which enforces that the view has a <code class="css-zezy6m">UIContentConfiguration</code> stored.</p>
</li>
<li class="css-zezy6m">
<p class="css-z0logh"><code class="css-zezy6m">updated(for:)</code> returns a new configuration applying a given state.
This will allow us to, for example, change the cell background color when the user taps it.</p>
</li>
</ul>
<p class="css-z0logh">Our custom configuration will have to implement both functions. We&#x27;ll define it as follows:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">struct</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> id</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> photo</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIImage</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> title</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> subtitle</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">set</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain">        id</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain">        photo</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIImage</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain">        title</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain">        subtitle</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain">        state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token nil constant" style="color:var(--theme-ui-colors-constant-color)">nil</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">15</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">id </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> id</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">photo </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> photo</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">title </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> title</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">subtitle </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> subtitle</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">20</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">state </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> state</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">22</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">23</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">makeContentView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token class-name">View</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token comment" style="color:var(--theme-ui-colors-comment-color);font-style:var(--theme-ui-colors-comment-fontStyle)">// To be defined</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">25</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">26</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">27</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">updated</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">for</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIConfigurationState</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">Configuration</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> mutableCopy </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">29</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> cellState </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> state </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">as</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">30</span><span class="token plain">            mutableCopy</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">state </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain">  cellState</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">31</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> mutableCopy</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">33</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">35</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">Here we moved all the code in the <code class="css-zezy6m">ViewModel</code> struct into this new <code class="css-zezy6m">Configuration</code> type.
We also added the <code class="css-zezy6m">state</code> property on it, which will hold relevant properties
such as <code class="css-zezy6m">isSelected</code> or <code class="css-zezy6m">isHighlighted</code>. This object is created by UIKit when the user
interacts with cells in lists.</p>
<p class="css-z0logh">Also, the <code class="css-zezy6m">updated(for: UIConfigurationState)</code> function is now very straightforward:
since we&#x27;re using a <code class="css-zezy6m">struct</code> to hold this data, we can add a new variable
and just use <code class="css-zezy6m">self</code> and let copy-on-write do its job. This allows this function to just
mutate the new properties, and to return a fresh copy for the view to be reconfigured.</p>
<p class="css-z0logh">We also need to define our view. It must be both <code class="css-zezy6m">UIView</code> and <code class="css-zezy6m">UIContentView</code>.
That in turn requires that it has a configuration set in.
Furthermore, it will have a <code class="css-zezy6m">init(configuration:)</code>, so that it can be instantiantiated
from the <code class="css-zezy6m">makeView()</code> method.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">class</span><span class="token plain"> </span><span class="token class-name">View</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">...</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">configuration </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">super</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">zero</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">...</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token comment" style="color:var(--theme-ui-colors-comment-color);font-style:var(--theme-ui-colors-comment-fontStyle)">// Layout Code</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token function" style="color:var(--theme-ui-colors-function-color)">configureFor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">In the <code class="css-zezy6m">init</code> method, we&#x27;ll also include all the layout code the previous <code class="css-zezy6m">SimpleCollectionViewCell</code>
had. Note also that here we must configure the view, meaning populating its
<code class="css-zezy6m">UILabel</code>, <code class="css-zezy6m">UIImageView</code>, etc. with actual content, which is passed in the <code class="css-zezy6m">init</code> method.</p>
<p class="css-z0logh">This <code class="css-zezy6m">configureFor(configuration:)</code> has basically the same code it had before, but it will also
contain the code to style the state changes in the cell</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">configureFor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    titleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">text </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">title</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">    subtitleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">text </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">subtitle</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">    photoImageView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">image </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">photo</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> state </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">state </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain">        backgroundColor </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">isSelected </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">                </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">cellSelectionBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain">            </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">else</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">isHighlighted </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain">                </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">systemGray3</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain">                </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">15</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">16</span><span class="token plain">        backgroundColor </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">18</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">Note that here we merged the two properties related to state, <code class="css-zezy6m">isSelected</code> and <code class="css-zezy6m">isHighlighted</code>
in a single state change. State now doesn&#x27;t have to be defined all over the <code class="css-zezy6m">UIView</code> subclass,
and it can be set from one single method, simplifiying a lot the code.</p>
<p class="css-z0logh">That was quite a bit of moving around the code, but the code itself keeps being the same.
Now we have a cell configured and ready to display from the get-go. But how would we use this in a
collection view?</p>
<h3 class="css-ns8t27">Configuring our <code class="css-zezy6m">UICollectionViewDiffableDataSource</code></h3>
<p class="css-z0logh">We now have a working <code class="css-zezy6m">UIView</code> with all it&#x27;s inputs and outputs well defined. At this stage,
we recommend adding <style data-emotion="css 1d2wwf6">.css-1d2wwf6{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1d2wwf6:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style data-emotion="css 1diwg7s">.css-1diwg7s{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1diwg7s:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-1diwg7s:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://github.com/pointfreeco/swift-snapshot-testing" class="css-1diwg7s">snapshot tests</a>
to make sure the view looks exactly like you&#x27;d expect.</p>
<p class="css-z0logh">Now, to use this view as a cell in a <code class="css-zezy6m">UICollectionView</code>, there&#x27;s a secret that we haven&#x27;t
told you: beggining iOS 14 <code class="css-zezy6m">UICollectionViewCell</code> defines a new property:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token attribute atrule" style="color:var(--theme-ui-colors-atrule-color)">@available</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">iOS </span><span class="token number" style="color:var(--theme-ui-colors-number-color)">14.0</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> tvOS </span><span class="token number" style="color:var(--theme-ui-colors-number-color)">14.0</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">*</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">extension</span><span class="token plain"> </span><span class="token class-name">UICollectionViewCell</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token attribute atrule" style="color:var(--theme-ui-colors-atrule-color)">@available</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">iOS </span><span class="token number" style="color:var(--theme-ui-colors-number-color)">14.0</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> tvOS </span><span class="token number" style="color:var(--theme-ui-colors-number-color)">14.0</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">*</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> contentConfiguration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">The documentation states that:</p>
<style data-emotion="css 1loxung">.css-1loxung{border-left-color:var(--theme-ui-colors-primary);border-left-style:solid;border-left-width:4px;margin-left:0;margin-right:0;padding-left:2rem;}.css-1loxung p{font-style:italic;}</style><style data-emotion="css m9jm23">.css-m9jm23{border-left-color:var(--theme-ui-colors-primary);border-left-style:solid;border-left-width:4px;margin-left:0;margin-right:0;padding-left:2rem;border-left-color:var(--theme-ui-colors-primary);border-left-style:solid;border-left-width:4px;margin-left:0;margin-right:0;padding-left:2rem;}.css-m9jm23 p{font-style:italic;}.css-m9jm23 p{font-style:italic;}</style><blockquote class="css-m9jm23">
<p class="css-z0logh">Setting a content configuration replaces the existing <code class="css-zezy6m">contentView</code> of the cell with a new content
view instance from the configuration, or directly applies the configuration to the existing content
view if the configuration is compatible with the existing content view type.</p>
</blockquote>
<p class="css-z0logh">This means that it&#x27;ll rip out it&#x27;s contentView, and use the view provided by your
<code class="css-zezy6m">UIContentConfiguration</code> in it&#x27;s <code class="css-zezy6m">makeContentView()</code> method. No more subclasses of
<code class="css-zezy6m">UICollectionViewCell</code> 🎉!!!</p>
<p class="css-z0logh">Now that we know this, our registration and dequeue process looks much like the same as before,
but applying the configuration instead:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> simpleCellRegistration </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token class-name">UICollectionView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">CellRegistration</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&lt;</span><span class="token class-name">UICollectionViewCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token omit keyword" style="color:var(--theme-ui-colors-keyword-color)">_</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">in</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">    cell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">contentConfiguration </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> dataSource </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token class-name">UICollectionViewDiffableDataSource</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&lt;</span><span class="token class-name">Section</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">collectionView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> collectionView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">cv</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token class-name">UICollectionViewCell</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">in</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">switch</span><span class="token plain"> item </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">case</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token function" style="color:var(--theme-ui-colors-function-color)">simpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> cv</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token function" style="color:var(--theme-ui-colors-function-color)">dequeueConfiguredReusableCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain">            using</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> simpleCellRegistration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">for</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> indexPath</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain">            item</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> configuration</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">...</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">16</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">17</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">We do need to change how the dataSource&#x27;s <code class="css-zezy6m">Item</code> is defined:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">enum</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Hashable</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">case</span><span class="token plain"> </span><span class="token function" style="color:var(--theme-ui-colors-function-color)">simpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">Now we store the actual <code class="css-zezy6m">SimpleCell.Configuration</code> we defined previously.</p>
<p class="css-z0logh">Also, UIKit is now in charge for some changes on that configuration: in the case for a state change,
UIKit will immediatly call SimpleCell.Configuration <code class="css-zezy6m">updated(for state:)</code> method, which in turn will
update the configuration on the SimpleCell.View and call <code class="css-zezy6m">configureFor(configuration:)</code>, so everything is
kept in sync.</p>
<p class="css-z0logh">Moreover, if there&#x27;s a data change and we need to call <code class="css-zezy6m">reconfigureItems()</code> on the dataSource,
the cell will be dequeued, which will set the configuration again, calling <code class="css-zezy6m">updated(for state:)</code>.</p>
<p class="css-z0logh">This here shows the diagram of the different steps involved in the dequeueing and displaying
of the cells.</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 100.41666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAC4jAAAuIwF4pT92AAAC2UlEQVR42oVTa2/SYBTmN/ppP8APJn5wJs5PatSYJUaHxMucbm5uczAiAxmwAi6EjXEtTIZzGpBLKbeWa+m9b0s9geDmZNuT5s3p2/fpOc953mNotloqQlmi7I0n/HjSj6fgCR6mOY6ThhD+A3zSNC2Xyxn6LKvruieRvLHw4f6m7e66ZWbNMr24glSV5/l2pwPn9H8x2imXywaW4yD6SVSsoZgznrIdxLeiuDOGq5qmqqqiKHB0MMZ5MvwedpHI6HJfYuhOo6QjVhN7SBb0C3BKFiWF69YKvjvk/hMy/Ky8P1sJPy/5blcPN0RZ6/cZUDjSiRCaQOZ79XrkKY2b6ISxib+kk6+pyCx1bBdllWX7QOOHABUTyoZIVAaSMmB5udlhZKQL8kDR9KvLFkRJFnpUxtI6+Ux9t5WT6+1fTvporVOKqJqOkILGUIc4VzZi22Rua4rAbtYOZmuhh5Xgg7ztGhmb50TE9LqAdrvNMAzUyA59PZNZEFUkcbU030iztXSXTAlUhqulhA4xsWaw5kxmUWT6vVK1WqXpfLl8ks1WaYqo1atUHZosyzIckMYYWX1K1tRBKB4wLj4yO95vbi+v2uYtzqUli2nR/KJSIQuFYjabJQiiAFGx2Gw2QUWr1YIWkCRpUBR0ks3sBBzBqD8QxnzBbViDEd9uyMMwvcEZQMJR2+DajTWDgZrW53lOFLsMU6doQZLgFVzQB1dZNUBoL3M853AteL+atj1Gh2se87/F/K/cGN1qgc7LBkNX0e63o8fWLZMLMzo9c8CH1ekxfnFX63WOZS8jQ0tBCcOyHC90e0y9QUHFfZg1Xvg7RheSwYofRcK6d+COJx3h6GYg6E4kHZGYO47DndYmYTQhYIFB11R7ND5lejP9ceOB1X7Pap/5ZL3+bvnWynq10eA5TlUvLrtYKISSyVWX2+L1mTGveccL68YOZvX5f+fz5CRAToqicBz/A46XM3fO14QhAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Diagram of the process after migrating"
        title="title YEAH"
        src="/static/5c42fdd50362ec2c7263fabd38ff0636/7d769/diagram1.png"
        srcset="/static/5c42fdd50362ec2c7263fabd38ff0636/5243c/diagram1.png 240w,
/static/5c42fdd50362ec2c7263fabd38ff0636/ab158/diagram1.png 480w,
/static/5c42fdd50362ec2c7263fabd38ff0636/7d769/diagram1.png 960w,
/static/5c42fdd50362ec2c7263fabd38ff0636/87339/diagram1.png 1440w,
/static/5c42fdd50362ec2c7263fabd38ff0636/afa98/diagram1.png 1609w"
        sizes="(max-width: 960px) 100vw, 960px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></span>
<p class="css-z0logh">We really are doing the same steps as before, just in a different order. Instead of dequeueing
the cell, creating the ViewModel and then assigning it to the cell, we are creating the Configuration
and assigining it to the cell, which in turn creates the content view under the hood. However,
notice here we&#x27;re merging the creation and configuration of the view in a single step, and that may
have some impact on the layout definition, since now we new can&#x27;t create a cell on its own,
and it needs to have a configuration ready beforehand.</p>
<p class="css-z0logh">So far we saw how we create a cell using the configuration. But if we tap on the cell, the background
is not being changed. This is because we lack the last piece of the puzzle: Updates.</p>
<h3 class="css-ns8t27">How are changes in the configuration affecting the view?</h3>
<p class="css-z0logh">As we can see from the updated(for state:) method, we can mutate the configuration whenever a change
is needed. This in turn will change the instance of the configuration defined in SimpleCellView.
But that does not change any views yet. So we need to set a trigger for that to happen. So we add
a <code class="css-zezy6m">didSet</code> trigger to the SimpleCellView&#x27;s configuration:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">didSet</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">guard</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> oldConfig </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> oldValue </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">as</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">              </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> config </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">as</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> oldConfig </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!=</span><span class="token plain"> config </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token function" style="color:var(--theme-ui-colors-function-color)">configureFor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">Here we make sure that if the configuration really changed, we call
<code class="css-zezy6m">configureFor(configuration: config)</code>. To do this, we need to make <code class="css-zezy6m">Configuration</code>
conform to <code class="css-zezy6m">Equatable</code> as well. But aside from that, we just need to call
<code class="css-zezy6m">configureFor(configuration:)</code> again to see the change take effect.</p>
<p class="css-z0logh">Here&#x27;s a diagram of the update process</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 85.41666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAC4jAAAuIwF4pT92AAACgElEQVR42oVT+0/aUBj1v91vS5YsW7b9oG7zgY/FYdRsLg51oEKxlAJbzMTh6BQR1MwtKLqBKINZ6ItyWx6yUwpCFhJPbm6+lHu+79xzLn08z+uaJkpS6OAwGDvYjMWD+/FgzFjc0fdyuaw1QQgpt1Eqler1ejKZ7EPVaDSKknRv7t0Dm/2Jfe3Rh9XHy6v3F5Yfvl/GUVVVJUnSdb3RBpjYLy4u+kqqikolxLXNUeEdLBT0t4hzm/PuRCrVCoDJtVrNZN7c3HTIapOMTxW9oum6UirlcjnMIZoGYqMXuiY3ZYuyMuhwvlhzD65QAw4Xin6H0+Kk0cXQrapGO0KwK4pSaTbtkAVZHlhxjdHeYcoz6vaO0ewQRVsoD+5cLMIQCcdkWYZ+URTN+3fLbuh6jWhVRSXXBYHo1TLBgPodsk0y0QgX3drZ/xLeC34O+XdjofDeZiQerjVRrVbNAjTsncmtO0vi0PTTybfP55YmZpfGZxbHR2aeTc0PQTbfBMQLgoBJEJ/P50HJZDKtyZB4cv4TK5E8/pE4Sv5KJM6Oz36fIIXbhG5hxtaRDT2FYqFQ5P/ksmfnSb74ly9cC6Jg6KzXblv0jkpWJOvC8Bv7K6dvcYVZWGNt07aRecdr/JpKpbLZLDTDZ1M8zG/JNslqWXX77OyGa/NrYCPEbnGf1gMOdoPCdeAWEjILvY3/XxgcxQuTZDmXzxPjv6Djyx1RwT3zhU2uM1ZvYIrxTbgZK/tx0sPOsgH0gDQj8S5AAijpdLodlaL0r1IWxj9K+8YYv8Xjf+n2WtyMSTZP95h8enp6dXUFV3YP4tx+rLVixh49PIQrcOvy8jLTBdAQdTQa/QfjyIlrzdfncQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Update Diagram"
        title=""
        src="/static/82376bdce6c5d6138f7dbff97f8a9059/7d769/diagram2.png"
        srcset="/static/82376bdce6c5d6138f7dbff97f8a9059/5243c/diagram2.png 240w,
/static/82376bdce6c5d6138f7dbff97f8a9059/ab158/diagram2.png 480w,
/static/82376bdce6c5d6138f7dbff97f8a9059/7d769/diagram2.png 960w,
/static/82376bdce6c5d6138f7dbff97f8a9059/87339/diagram2.png 1440w,
/static/82376bdce6c5d6138f7dbff97f8a9059/afa98/diagram2.png 1609w"
        sizes="(max-width: 960px) 100vw, 960px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></span>
<p class="css-z0logh">And thats really it! Here you can se the complete code.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">enum</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">struct</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token class-name">Identifiable</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> </span><span class="token class-name">Equatable</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> id</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> photo</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIImage</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> title</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> subtitle</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">set</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain">            id</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain">            photo</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIImage</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain">            title</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain">            subtitle</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">15</span><span class="token plain">            state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token nil constant" style="color:var(--theme-ui-colors-constant-color)">nil</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">17</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">id </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> id</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">18</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">photo </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> photo</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">19</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">title </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> title</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">20</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">subtitle </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> subtitle</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">21</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">state </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> state</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">makeContentView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">25</span><span class="token plain">            </span><span class="token class-name">View</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">27</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">updated</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">for</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIConfigurationState</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">Configuration</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">29</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> mutableCopy </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">30</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> cellState </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> state </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">as</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">?</span><span class="token plain"> </span><span class="token class-name">UICellConfigurationState</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">31</span><span class="token plain">                mutableCopy</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">state </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain">  cellState</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">32</span><span class="token plain">            </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">33</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> mutableCopy</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">34</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">36</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">38</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">class</span><span class="token plain"> </span><span class="token class-name">View</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIView</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">&amp;</span><span class="token plain"> </span><span class="token class-name">UIContentView</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIContentConfiguration</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">40</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> titleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UILabel</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">41</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> subtitleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UILabel</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">42</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">private</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">var</span><span class="token plain"> photoImageView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIImageView</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">43</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">44</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">45</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">self</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">configuration </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">46</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">super</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">init</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">zero</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">47</span><span class="token plain">            </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">...</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">48</span><span class="token plain">            </span><span class="token comment" style="color:var(--theme-ui-colors-comment-color);font-style:var(--theme-ui-colors-comment-fontStyle)">// Layout Code</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">49</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">50</span><span class="token plain">            </span><span class="token function" style="color:var(--theme-ui-colors-function-color)">configureFor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">51</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">52</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">public</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">configureFor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">54</span><span class="token plain">            titleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">text </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">title</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">55</span><span class="token plain">            subtitleLabel</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">text </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">subtitle</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">56</span><span class="token plain">            photoImageView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">image </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">photo</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">57</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">58</span><span class="token plain">            </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> state </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">state </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">59</span><span class="token plain">                backgroundColor </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">60</span><span class="token plain">                    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">isSelected </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">61</span><span class="token plain">                        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">cellSelectionBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">62</span><span class="token plain">                    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">else</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">if</span><span class="token plain"> state</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">isHighlighted </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">63</span><span class="token plain">                        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">systemGray3</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">64</span><span class="token plain">                    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">65</span><span class="token plain">                        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">66</span><span class="token plain">                    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">67</span><span class="token plain">                </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">68</span><span class="token plain">            </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">69</span><span class="token plain">                backgroundColor </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token plain">defaultBackgroundColor</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">70</span><span class="token plain">            </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">71</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">72</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">73</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<h2 class="css-1h962gv">Bonus Track: SwiftUI</h2>
<p class="css-z0logh">You might be wondering: &quot;is this change worth it? What&#x27;s in it for me?&quot;</p>
<p class="css-z0logh">Moving to this architecture GREATLY improves the experience when bridging these views to SwiftUI.
It should be as simple as:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="prism-code language-swift" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-ce1lkk">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="code-content language-swift"><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">1</span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">import</span><span class="token plain"> </span><span class="token class-name">SwiftUI</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">extension</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">struct</span><span class="token plain"> </span><span class="token class-name">SwiftUIView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">UIViewRepresentable</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">let</span><span class="token plain"> config</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">makeUIView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Context</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">-&gt;</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">View</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">10</span><span class="token plain">            config</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token function" style="color:var(--theme-ui-colors-function-color)">makeContentView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">as</span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">!</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">View</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:var(--theme-ui-colors-function-color)">updateUIView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token omit keyword" style="color:var(--theme-ui-colors-keyword-color)">_</span><span class="token plain"> uiView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">View</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">,</span><span class="token plain"> context</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> </span><span class="token class-name">Context</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">{</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">14</span><span class="token plain">            uiView</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token function" style="color:var(--theme-ui-colors-function-color)">configureFor</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">)</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token keyword" style="color:var(--theme-ui-colors-keyword-color)">typealias</span><span class="token plain"> </span><span class="token class-name">UIViewType</span><span class="token plain"> </span><span class="token operator" style="color:var(--theme-ui-colors-operator-color)">=</span><span class="token plain"> </span><span class="token class-name">SimpleCell</span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">.</span><span class="token class-name">View</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span><span class="token plain"></span></div><div class="token-line" style="color:var(--theme-ui-colors-plain-color)"><span class="line-number-style">19</span><span class="token plain"></span><span class="token punctuation" style="color:var(--theme-ui-colors-punctuation-color)">}</span></div></code></pre></div>
<p class="css-z0logh">A little more of code should be required to handle updates to this view, but should not be hard,
let&#x27;s leave that as homework 😅.</p>
<p class="css-z0logh">This data-driven approach trickling down in UIKit it&#x27;s greatly appreciated and makes it easy to maintain
UIKit projects.</p>
<h2 class="css-1h962gv">Conclusion</h2>
<p class="css-z0logh">With that, is as simple as changing types wherever we used <code class="css-zezy6m">SimpleCollectionViewCell</code> to the new
<code class="css-zezy6m">SimpleCell.View</code> and <code class="css-zezy6m">SimpleCollectionViewCell.ViewModel</code> to <code class="css-zezy6m">SimpleCell.Configuration</code>.</p>
<p class="css-z0logh">And that&#x27;s it! Using that structure we can now implement the same things we previously had, without
the hassle of having all the state properties attached to the view, all while relying on UIKit to do
the heavy lifting of deciding when to update content and state.</p>
<h3 class="css-ns8t27">Moving on from here</h3>
<p class="css-z0logh">This covers how we would implement a custom <code class="css-zezy6m">UIContentConfiguration</code>.
For many cases, though, using the  stock <code class="css-zezy6m">UIListContentConfiguration</code> and a plain <code class="css-zezy6m">UICollectionViewListCell</code>
may be enough. You can read more about it on <a href="https://www.wwdcnotes.com/notes/wwdc20/10027/" class="css-1diwg7s">WWDC notes</a> and
from the <a href="https://developer.apple.com/videos/play/wwdc2020/10027/" class="css-1diwg7s">WWDC 2020 Session</a> itself</p>
<p class="css-z0logh">There is one final caveat: we&#x27;re currently using the whole Configuration struct as the Item for the
<code class="css-zezy6m">UICollectionDiffableDataSource&lt;Section, Item&gt;</code>, instead of asigning it the ID.
This works, but according to apple&#x27;s principles it may lead to bad performance or ocasional crashing.</p>
<p class="css-z0logh">Plus, using only the ID as a reference would allow us to use <code class="css-zezy6m">reconfigureItems</code>,
first introduced in iOS 15, to reload any changes on a cell using this same technique.</p>
<p class="css-z0logh">So head on to our next article, where we discuss how to implement a data source using this same
structure, but relying on IDs or simple enums as the data source items instead of the whole Configuration object.</p>
<p class="css-z0logh">Cheers!</p></section></main><style data-emotion="css y7pay1">.css-y7pay1{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide);padding-top:1rem;}.css-y7pay1 a{color:var(--theme-ui-colors-secondary);-webkit-text-decoration:none;text-decoration:none;}.css-y7pay1 a:hover{color:var(--theme-ui-colors-heading);-webkit-text-decoration:underline;text-decoration:underline;}.css-y7pay1 a:focus{color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-y7pay1{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width: 768px){.css-y7pay1{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-y7pay1"><div>© <!-- -->2023<!-- --> by <!-- -->The Left Bit Stories<!-- -->. All rights reserved.</div><div><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://github.com/LekoArts/gatsby-themes/tree/main/themes/gatsby-theme-minimal-blog" class="css-aizfxq">Theme</a> <!-- -->by<!-- --> <a aria-label="Link to the theme author&#x27;s website" href="https://www.lekoarts.de?utm_source=minimal-blog&amp;utm_medium=Theme" class="css-aizfxq">LekoArts</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/content-configuration/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-a5185115789111ab2ffb.js\"],\"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx\":[\"/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-9d04cde97474a4dee1ed.js\"],\"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-content-file-path-content-pages-about-index-mdx\":[\"/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-content-file-path-content-pages-about-index-mdx-5577364a773bbb5af056.js\"],\"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-content-configuration-content-configuration-mdx\":[\"/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-content-configuration-content-configuration-mdx-3e8190c685993aab6c0f.js\"],\"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-swift-ui-swiftui-in-an-async-world-mdx\":[\"/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-swift-ui-swiftui-in-an-async-world-mdx-fa4adbceba9ef2a90d91.js\"],\"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx\":[\"/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-fa4af3076b9e1d025215.js\"],\"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx\":[\"/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-e6c7da9ccb9e847433de.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-6c1cde135907b0234c11.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="cbe097621ecfa1fd1872";</script><script src="/webpack-runtime-830185e13b14305f49c3.js" async></script><script src="/framework-f689a2a97f4fb6f27065.js" async></script><script src="/app-a5185115789111ab2ffb.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>